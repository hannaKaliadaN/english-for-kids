sap.ui.define(["sap/ui/core/Control","sap/ui/core/TextAlign","sap/m/Text","sap/m/Button"],function(e,t,s,r){"use strict";return e.extend("game.control.MyControl",{metadata:{properties:{header:"string",subheader:"string",highLight:"boolean",flip:"boolean",srcPicture:"string",srcAudio:"string",isEdit:"boolean"},events:{onEditPress:{},onDeletePress:{}},aggregations:{}},init:function(){},setHeader:function(e){this.setProperty("header",e,true)},setSrcPicture:function(e){this.setProperty("srcPicture",e,true)},setSrcAudio:function(e){this.setProperty("srcAudio",e,true)},setSubheader:function(e){this.setProperty("subheader",e,true)},setHighLight:function(e){this.setProperty("highLight",e,true)},setIsEdit:function(e){this.setProperty("isEdit",e,true)},setFlip:function(e){this.setProperty("flip",e,true)},getFlip:function(){const e=this.getProperty("flip");return e},onButtonPress:function(e,t){let s=this.getHeader();let r=document.querySelector(".audio-"+s.replace(/\s/g,""));if(r.getAttribute("src")!=="undefined"){r.play()}},renderer:function(e,n){const i=n.getId().split("--");const o=i[i.length-1].replace(/-[0-9]/g,"");e.openStart("div",n).class("scene").openEnd();e.openStart("div",n).class("card");e.class(`${o}`);if(n.getHighLight()){e.class("highLight")}e.openEnd();e.openStart("div",n).class("card__face").class("card__face--front");e.openEnd();if(n.getIsEdit()){e.openStart("div",n).class("buttons");e.openEnd();e.renderControl(new r({icon:"sap-icon://edit",press:()=>n.fireEvent("onEditPress"),type:"Transparent"}).addStyleClass("editButton"));e.renderControl(new r({icon:"sap-icon://decline",type:"Transparent",press:()=>n.fireEvent("onDeletePress")}).addStyleClass("deleteButton"));e.close("div")}e.renderControl(new s({text:n.getHeader(),textAlign:t.Center}).addStyleClass("header"));if(n.getSrcPicture()){e.openStart("img",n).attr("src",n.getSrcPicture()).class("image").openEnd()}e.close("div");e.openStart("div",n).class("card__face").class("card__face--back").openEnd();e.renderControl(new s({text:n.getSubheader(),textAlign:t.Center}).addStyleClass("subheader"));e.openStart("audio",n).class("audio-"+n.getHeader().replace(/\s/g,"")).attr("src",n.getSrcAudio()).openEnd();e.close("audio");e.renderControl(new r({icon:"sap-icon://headset",press:e=>n.onButtonPress(e,n)}).addStyleClass("spellButton"));e.close("div");e.close("div");e.close("div")},onclick:function(e){const t=e.target;const s=t.closest(".card");if(!t.closest(".spellButton")&&!t.closest(".deleteButton")&&!t.closest(".editButton")){s.addEventListener("mouseleave",()=>{s.classList.remove("is-flipped");s.classList.remove("highLight")});if(this.getFlip()){s.classList.toggle("is-flipped")}s.classList.toggle("highLight")}}})});