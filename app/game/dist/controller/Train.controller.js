sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("game.controller.Train",{onInit:function(){this.getRouter().getRoute("Train").attachPatternMatched(this.onPatternMatched,this);this.getOwnerComponent().getModel("helpModel").setProperty("/isVisibleWords",true)},getRouter:function(){return this.getOwnerComponent().getRouter()},onPatternMatched:function(e){this.getOwnerComponent().getModel("helpModel").setProperty("/isVisibleResults",false);this.getOwnerComponent().getModel("helpModel").setProperty("/isVisibleWords",true);var t=e.getParameter("arguments");var r=t.CategId;this.getModel().metadataLoaded().then(function(){var e=this.getModel().createKey("/Categories",{ID:r,parameters:{expand:"Words"}});this.getView().bindObject({path:e})}.bind(this))},getModel:function(){return this.getOwnerComponent().getModel()},getRouter:function(){return this.getOwnerComponent().getRouter()},navigateTo:function(e,t){this.getRouter().navTo(e,t)},onButtonPress:function(e){},onMainPagePress:function(){this.navigateTo("Categories",{})},onButtonResultsPress:function(){this.navigateTo("Results",{})},onButtonResultesPress:function(){},onStartTrainPress:function(){this.getView().getModel("helpModel").setProperty("/isVisibleWords",false)},onResultsPress:function(){this.getView().getModel("helpModel").setProperty("/isVisibleResults",true);this.getView().getModel("helpModel").setProperty("/currentTrain/rightAnswers",0);this.getView().getModel("helpModel").setProperty("/currentTrain/wrongAnswers",0);let e=this.byId("trainCards").getItems();this.getView().getModel("helpModel").setProperty("/currentTrain/numberOfWords",e.length);debugger;e.forEach(e=>{let t=e.getIsRight();let r=this.getView().getModel("helpModel").getProperty("/currentTrain/rightAnswers");let n=this.getView().getModel("helpModel").getProperty("/currentTrain/wrongAnswers");t?this.getView().getModel("helpModel").setProperty("/currentTrain/rightAnswers",r+=1):this.getView().getModel("helpModel").setProperty("/currentTrain/wrongAnswers",n+=1)})}})});